#|
Objectives:
    caps lock                -> esc + ctrl
    right shift + left shift -> caps lock
    left  shift + backspace  -> del
|#


(defsrc
  caps bspc del
  lsft rsft
)

(defalias
  escctrl (tap-hold 100 100 esc lctrl)
  back (switch 
        (lsft) (unshift del) break
        () bspc break)
  rshft (layer-while-held rshift)
)

(deflayer base
  @escctrl @back _
  _ @rshft
)

(deflayermap (rshift)
  lsft caps
)

