#|
For testing - https://jtroo.github.io/?data=FACgJgpgZgzgTgY2AAmQghgBxsgRjTBZSAGxWRJigBdk4rrgBKYUSKdEgS3RnIhgIE1OCWQhqWALQALAPYkwyAIwAGVSvXIBREsNEtUudAgDW4mAHcu1BDOTlUT8ZRpNxAVwB2MGVxrEECTuuHAQ6KaOzuIhBESh4aaGdL4BICToAJ4QcFKWfiQQskFK9H5uzKzg0BnZcHi8EOQAAjr6Ys3GZsgA+uQ9yM1lNJVsNVk5ALZY4mX+1MmutBjYlQA+G5tb22tgAFxLyNR7AOyqwPv4hEen5x57V0THZ8D3h8-nQA
Objectives:
    caps lock                -> esc + ctrl
    left shift + right shift -> caps lock
|#

(defsrc
  caps
  lsft rsft
)

(defalias
  escctrl (tap-hold 100 100 esc lctrl)
  rshft (switch
        (lsft) (unshift caps) break
        () rsft break)
)

(deflayer base
  @escctrl
  _ @rshft
)

